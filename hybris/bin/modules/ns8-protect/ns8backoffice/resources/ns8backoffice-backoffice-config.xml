<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
 Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved
-->
<config xmlns="http://www.hybris.com/cockpit/config"
        xmlns:y="http://www.hybris.com/cockpit/config/hybris"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.hybris.com/cockpitng/config/perspectiveChooser"
        xmlns:explorer-tree="http://www.hybris.com/cockpitng/config/explorertree"
        xmlns:editorArea="http://www.hybris.com/cockpitng/component/editorArea"
        xmlns:list-view="http://www.hybris.com/cockpitng/component/listView"
        xmlns:advanced-search="http://www.hybris.com/cockpitng/config/advancedsearch"
>

    <context type="AbstractOrder">
        <context component="editor-area" type="AbstractOrder" merge-by="type">
            <editorArea:editorArea>
                <editorArea:tab name="tab.configuration.ns8">
                    <editorArea:section name="sec.abstractorder.ns8.details">
                        <editorArea:attribute qualifier="customerIp"/>
                        <editorArea:attribute qualifier="customerUserAgent"/>
                    </editorArea:section>
                </editorArea:tab>
            </editorArea:editorArea>
        </context>
    </context>

    <context merge-by="module" parent="auto" component="explorer-tree">
        <explorer-tree:explorer-tree xmlns:explorer-tree="http://www.hybris.com/cockpitng/config/explorertree">
            <explorer-tree:navigation-node id="NS8">
                <explorer-tree:type-node code="NS8Merchant" id="hmc_type_tree_ns8_merchant"/>
                <explorer-tree:type-node code="Ns8QueueMessage" id="hmc_type_tree_ns8_message"/>
                <explorer-tree:navigation-node id="hmc_treenode_ns8_jobs">
                    <explorer-tree:type-node id="hmc_type_tree_ns8fetchqueuemessagescronjob"
                                             code="Ns8FetchQueueMessagesCronJob"/>
                </explorer-tree:navigation-node>
            </explorer-tree:navigation-node>
        </explorer-tree:explorer-tree>
    </context>

    <context merge-by="module" component="ns8-explorer-tree">
        <explorer-tree:explorer-tree xmlns:explorer-tree="http://www.hybris.com/cockpitng/config/explorertree">
            <explorer-tree:type-node id="ns8tree.main.dashboard.view"/>
            <explorer-tree:type-node id="ns8tree.suspicious.orders.view"/>
            <explorer-tree:type-node id="ns8tree.order.rules.view"/>
        </explorer-tree:explorer-tree>
    </context>


    <context type="Ns8FetchQueueMessagesCronJob" component="advanced-search" merge-by="type">
        <advanced-search:advanced-search connection-operator="AND">
            <advanced-search:field-list>
                <advanced-search:field name="baseSite" operator="equals" selected="true"/>
                <advanced-search:field name="fullExport" operator="equals" selected="true"/>
            </advanced-search:field-list>
        </advanced-search:advanced-search>
    </context>

    <context type="Ns8FetchQueueMessagesCronJob" component="editor-area" merge-by="type">
        <editorArea:editorArea name="Ns8FetchQueueMessagesCronJobEditor">
            <editorArea:essentials>
                <editorArea:essentialSection name="hmc.essential">
                    <editorArea:attribute qualifier="site"/>
                </editorArea:essentialSection>
            </editorArea:essentials>
            <editorArea:tab name="hmc.tab.common" position="0">
                <editorArea:section name="hmc.properties">
                    <editorArea:attribute qualifier="maxBatchSize"/>
                </editorArea:section>
            </editorArea:tab>
        </editorArea:editorArea>
    </context>

    <context type="Ns8QueueMessage" component="listview">
        <list-view:list-view>
            <list-view:column qualifier="orderId"/>
            <list-view:column qualifier="action"/>
            <list-view:column qualifier="creationtime"/>
        </list-view:list-view>
    </context>

    <context type="Ns8QueueMessage" component="base" merge-by="type" parent="GenericItem">
        <y:base>
            <y:labels>
                <y:label>action + " for order id " + orderId</y:label>
            </y:labels>
        </y:base>
    </context>

    <context type="Ns8QueueMessage" component="editor-area" parent="GenericItem" merge-by="type">
        <editorArea:editorArea>
            <editorArea:tab name="hmc.tab.common" position="0">
                <editorArea:section name="hmc.properties">
                    <editorArea:attribute qualifier="orderId"/>
                    <editorArea:attribute qualifier="action"/>
                    <editorArea:attribute qualifier="creationtime"/>
                </editorArea:section>
            </editorArea:tab>
        </editorArea:editorArea>
    </context>

    <context type="NS8Merchant" component="listview">
        <list-view:list-view>
            <list-view:column qualifier="email"/>
            <list-view:column qualifier="storeUrl"/>
            <list-view:column qualifier="firstName"/>
            <list-view:column qualifier="lastName"/>
            <list-view:column qualifier="phone"/>
            <list-view:column qualifier="apiKey"/>
            <list-view:column qualifier="queueId"/>
            <list-view:column qualifier="enabled"/>
        </list-view:list-view>
    </context>

    <context type="NS8Merchant" component="base" merge-by="type" parent="GenericItem">
        <y:base>
            <y:labels>
                <y:label>"Email: " + email + " StoreURL: " + storeUrl</y:label>
            </y:labels>
        </y:base>
    </context>

    <context component="editor-area" type="NS8Merchant" parent="GenericItem" merge-by="type">
        <editorArea:editorArea>
            <editorArea:tab name="tab.configuration.ns8.global.settings">
                <editorArea:section name="sec.configuration.ns8.details">
                    <editorArea:attribute qualifier="email"/>
                    <editorArea:attribute qualifier="storeUrl"/>
                    <editorArea:attribute qualifier="firstName"/>
                    <editorArea:attribute qualifier="lastName"/>
                    <editorArea:attribute qualifier="phone"/>
                    <editorArea:attribute qualifier="apiKey"/>
                    <editorArea:attribute qualifier="queueId"/>
                    <editorArea:attribute qualifier="enabled"/>
                </editorArea:section>
            </editorArea:tab>
        </editorArea:editorArea>
    </context>

    <context type="BaseSite" component="editorareaactions" merge-by="auto" parent="auto">
        <y:actions>
            <y:group qualifier="common">
                <y:label>actiongroup.common</y:label>
                <y:action action-id="com.hybris.cockpitng.action.delete" property="currentObject"/>
                <y:action action-id="com.ns8.hybris.backoffice.basesite.activatens8merchantaction"
                          property="currentObject"/>
            </y:group>
        </y:actions>
    </context>

    <context type="Order" component="editorareaactions" merge-by="type" parent="auto">
        <y:actions xmlns:y="http://www.hybris.com/cockpit/config/hybris">
            <y:group qualifier="common">
                <y:label>actiongroup.common</y:label>
                <y:action action-id="com.ns8.hybris.backoffice.order.accessns8orderaction"
                          property="currentObject"/>
            </y:group>
        </y:actions>
    </context>

    <context type="Order" component="cseditorareaactions" merge-by="type" parent="auto">
        <y:actions xmlns:y="http://www.hybris.com/cockpit/config/hybris">
            <y:group qualifier="common">
                <y:label>actiongroup.common</y:label>
                <y:action action-id="com.ns8.hybris.backoffice.order.accessns8orderaction"
                          property="currentObject"/>
            </y:group>
        </y:actions>
    </context>

    <context type="CMSSite">
        <context component="editor-area" type="CMSSite" merge-by="type">
            <editorArea:editorArea>
                <editorArea:tab name="tab.configuration.ns8">
                    <editorArea:section name="sec.configuration.ns8.merchant.section">
                        <editorArea:attribute qualifier="ns8Merchant"/>
                    </editorArea:section>
                </editorArea:tab>
            </editorArea:editorArea>
        </context>
    </context>

    <context component="perspective-chooser" merge-by="module">
        <y:perspective-chooser xmlns:y="http://www.hybris.com/cockpitng/config/perspectiveChooser">
            <y:authority name="employeegroup">
                <y:perspective id="ns8BackofficePerspective"/>
            </y:authority>
        </y:perspective-chooser>
    </context>

    <context component="perspective-view-switcher" merge-by="module">
        <vs:view-switcher xmlns:vs="http://www.hybris.com/cockpitng/config/viewSwitcher">
            <vs:authority name="employeegroup">
                <vs:view id="ns8BackofficePerspective"/>
            </vs:authority>
        </vs:view-switcher>
    </context>

</config>
